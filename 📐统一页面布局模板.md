# 📐 统一页面布局模板

## 🎯 设计原则

所有新增页面和现有页面都应使用统一的 `PageHeader` 布局，以保持系统界面的一致性。

---

## 📋 标准模板

### 基础模板

```typescript
import { PageHeader } from '@/components/PageHeader';
import { IconName } from 'lucide-react';

export default function PageName() {
  return (
    <div className="p-4 space-y-4">
      {/* 页面头部 */}
      <PageHeader
        title="页面标题"
        description="页面功能描述"
        icon={IconName}
        iconColor="text-blue-600"
      />
      
      {/* 页面内容 */}
      <div className="mx-auto max-w-7xl">
        <Card className="shadow-sm">
          <CardContent className="p-6">
            {/* 您的页面内容 */}
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
```

### 带操作按钮的模板

```typescript
import { PageHeader } from '@/components/PageHeader';
import { Button } from '@/components/ui/button';
import { IconName, Plus, RefreshCw } from 'lucide-react';

export default function PageName() {
  return (
    <div className="p-4 space-y-4">
      {/* 页面头部（带操作按钮） */}
      <PageHeader
        title="页面标题"
        description="页面功能描述"
        icon={IconName}
        iconColor="text-blue-600"
      >
        {/* 操作按钮区域 */}
        <Button onClick={handleAdd}>
          <Plus className="h-4 w-4 mr-2" />
          新增
        </Button>
        <Button variant="outline" onClick={handleRefresh}>
          <RefreshCw className="h-4 w-4 mr-2" />
          刷新
        </Button>
      </PageHeader>
      
      {/* 页面内容 */}
      <div className="mx-auto max-w-7xl">
        {/* 您的页面内容 */}
      </div>
    </div>
  );
}
```

### 带筛选器的模板

```typescript
import { PageHeader } from '@/components/PageHeader';
import { Card, CardContent } from '@/components/ui/card';
import { IconName } from 'lucide-react';

export default function PageName() {
  return (
    <div className="p-4 space-y-4">
      {/* 页面头部 */}
      <PageHeader
        title="页面标题"
        description="页面功能描述"
        icon={IconName}
        iconColor="text-blue-600"
      />
      
      <div className="mx-auto max-w-7xl space-y-4">
        {/* 筛选器卡片 */}
        <Card className="shadow-sm">
          <CardContent className="p-4">
            {/* 筛选器组件 */}
          </CardContent>
        </Card>
        
        {/* 数据展示卡片 */}
        <Card className="shadow-sm">
          <CardContent className="p-6">
            {/* 数据表格或列表 */}
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
```

---

## 🎨 PageHeader 组件说明

### 组件属性

```typescript
interface PageHeaderProps {
  title: string;           // 页面标题（必填）
  description: string;     // 页面描述（必填）
  icon: LucideIcon;       // 图标组件（必填）
  iconColor?: string;     // 图标颜色（可选，默认 text-blue-600）
  children?: ReactNode;   // 额外内容（可选，通常是操作按钮）
}
```

### 使用示例

```typescript
<PageHeader
  title="用户管理"
  description="管理系统用户信息、角色和权限"
  icon={Users}
  iconColor="text-blue-600"
>
  <Button>操作按钮</Button>
</PageHeader>
```

---

## 🎯 图标颜色规范

### 标准颜色
- `text-blue-600` - 默认颜色（大多数页面）
- `text-green-600` - 增强/特殊功能页面
- `text-purple-600` - 高级/管理功能页面
- `text-orange-600` - 警告/重要功能页面
- `text-red-600` - 危险/删除功能页面

### 使用建议

| 页面类型 | 推荐颜色 | 示例 |
|---------|---------|------|
| 数据管理 | `text-blue-600` | 用户管理、项目管理 |
| 业务操作 | `text-blue-600` | 运单管理、订单管理 |
| 财务相关 | `text-blue-600` | 财务对账、付款管理 |
| 增强功能 | `text-green-600` | 增强版页面 |
| 系统设置 | `text-purple-600` | 系统配置 |
| 危险操作 | `text-red-600` | 数据删除、重置 |

---

## 📏 布局规范

### 容器样式

```css
/* 页面主容器 */
.p-4 space-y-4

/* 内容容器 */
.mx-auto max-w-7xl

/* Card 样式 */
.shadow-sm

/* CardContent 样式 */
.p-6
```

### 响应式设计

```typescript
// 页面主容器
<div className="p-4 space-y-4">  // 移动端和桌面端统一

// 内容容器
<div className="mx-auto max-w-7xl">  // 最大宽度限制

// 网格布局
<div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3">  // 响应式网格
```

---

## 🎨 常用图标

### 从 lucide-react 导入

```typescript
import {
  // 用户相关
  Users, User, UserPlus, UserCheck,
  
  // 文件相关
  FileText, File, Files, FileUp, FileDown,
  
  // 数据相关
  Database, Table, BarChart3, PieChart,
  
  // 设置相关
  Settings, Shield, Lock, Key,
  
  // 操作相关
  Plus, Edit, Trash2, RefreshCw, Search,
  
  // 业务相关
  Truck, Package, MapPin, Calculator,
  
  // 财务相关
  Banknote, DollarSign, CreditCard,
  
  // 其他
  History, Clock, Calendar, Filter
} from 'lucide-react';
```

---

## 📝 完整示例

### 示例1: 简单列表页面

```typescript
import { useState, useEffect } from 'react';
import { PageHeader } from '@/components/PageHeader';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';
import { Users, Plus, RefreshCw } from 'lucide-react';

export default function UserListPage() {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(false);

  const loadUsers = async () => {
    setLoading(true);
    // 加载数据逻辑
    setLoading(false);
  };

  useEffect(() => {
    loadUsers();
  }, []);

  return (
    <div className="p-4 space-y-4">
      <PageHeader
        title="用户列表"
        description="查看和管理系统用户"
        icon={Users}
        iconColor="text-blue-600"
      >
        <Button onClick={() => {}}>
          <Plus className="h-4 w-4 mr-2" />
          新增用户
        </Button>
        <Button variant="outline" onClick={loadUsers} disabled={loading}>
          <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />
          刷新
        </Button>
      </PageHeader>
      
      <div className="mx-auto max-w-7xl">
        <Card className="shadow-sm">
          <CardContent className="p-6">
            <Table>
              <TableHeader>
                <TableRow>
                  <TableHead>用户名</TableHead>
                  <TableHead>邮箱</TableHead>
                  <TableHead>角色</TableHead>
                  <TableHead>操作</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {users.map((user) => (
                  <TableRow key={user.id}>
                    <TableCell>{user.name}</TableCell>
                    <TableCell>{user.email}</TableCell>
                    <TableCell>{user.role}</TableCell>
                    <TableCell>
                      <Button size="sm" variant="ghost">编辑</Button>
                    </TableCell>
                  </TableRow>
                ))}
              </TableBody>
            </Table>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
```

### 示例2: 带筛选器的页面

```typescript
import { useState } from 'react';
import { PageHeader } from '@/components/PageHeader';
import { Card, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { Search, Filter, Database } from 'lucide-react';

export default function DataManagementPage() {
  const [filters, setFilters] = useState({
    search: '',
    category: 'all'
  });

  return (
    <div className="p-4 space-y-4">
      <PageHeader
        title="数据管理"
        description="查询和管理业务数据"
        icon={Database}
        iconColor="text-blue-600"
      />
      
      <div className="mx-auto max-w-7xl space-y-4">
        {/* 筛选器 */}
        <Card className="shadow-sm">
          <CardContent className="p-4">
            <div className="flex items-center gap-4">
              <div className="flex-1">
                <Input
                  placeholder="搜索..."
                  value={filters.search}
                  onChange={(e) => setFilters({...filters, search: e.target.value})}
                />
              </div>
              <Select value={filters.category} onValueChange={(value) => setFilters({...filters, category: value})}>
                <SelectTrigger className="w-48">
                  <SelectValue />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">全部</SelectItem>
                  <SelectItem value="active">活跃</SelectItem>
                  <SelectItem value="inactive">未活跃</SelectItem>
                </SelectContent>
              </Select>
              <Button>
                <Search className="h-4 w-4 mr-2" />
                搜索
              </Button>
            </div>
          </CardContent>
        </Card>
        
        {/* 数据展示 */}
        <Card className="shadow-sm">
          <CardContent className="p-6">
            {/* 数据内容 */}
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
```

---

## ✅ 检查清单

### 新页面开发时
- [ ] 导入 `PageHeader` 组件
- [ ] 使用标准布局结构
- [ ] 设置合适的图标和颜色
- [ ] 确保响应式设计
- [ ] 添加必要的操作按钮
- [ ] 测试移动端显示

### 现有页面更新时
- [ ] 添加 `PageHeader` 导入
- [ ] 替换原有标题结构
- [ ] 调整容器样式
- [ ] 保持原有功能
- [ ] 测试页面显示
- [ ] 检查响应式效果

---

## 🚀 快速开始

### 1. 复制模板代码
选择上面的基础模板、带操作按钮的模板或带筛选器的模板

### 2. 修改关键信息
- 修改页面标题
- 修改页面描述
- 选择合适的图标
- 设置图标颜色

### 3. 添加页面内容
在内容区域添加您的业务逻辑和UI组件

### 4. 测试验证
- 桌面端显示
- 移动端显示
- 操作按钮功能
- 响应式效果

---

## 📚 参考页面

### 已应用统一布局的页面
- ✅ `src/pages/BusinessEntry/index.tsx` - 运单管理
- ✅ `src/pages/FinanceReconciliation.tsx` - 运费对账
- ✅ `src/pages/DataMaintenance/WaybillMaintenance.tsx` - 运单维护
- ✅ `src/pages/DataMaintenance/EnhancedWaybillMaintenance.tsx` - 运单维护（增强版）
- ✅ `src/pages/Settings/UserManagement.tsx` - 用户管理

### 待应用统一布局的页面
- ⏳ `src/pages/Settings/PermissionConfig.tsx` - 权限配置
- ⏳ `src/pages/Settings/ContractPermission.tsx` - 合同权限
- ⏳ `src/pages/Settings/RoleTemplate.tsx` - 角色模板
- ⏳ `src/pages/Settings/AuditLogs.tsx` - 操作日志
- ⏳ `src/pages/Settings/PermissionManagement.tsx` - 权限管理

---

## 💡 最佳实践

### 1. 保持一致性
- 所有页面使用相同的布局结构
- 统一的间距和边距
- 统一的卡片样式

### 2. 响应式优先
- 考虑移动端显示
- 使用响应式网格
- 合理的断点设置

### 3. 语义化命名
- 清晰的页面标题
- 准确的功能描述
- 合适的图标选择

### 4. 用户体验
- Sticky 头部便于导航
- 清晰的操作按钮
- 合理的信息层次

---

## 🎉 总结

使用统一的 `PageHeader` 布局可以：
- ✅ 保持界面一致性
- ✅ 提升用户体验
- ✅ 简化开发流程
- ✅ 便于维护管理

**请在所有新页面开发和现有页面更新时遵循此模板！**

---

**文档版本**: v1.0.0  
**最后更新**: 2025年10月9日  
**适用范围**: 所有系统页面
