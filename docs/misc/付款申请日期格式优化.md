# 付款申请日期格式优化

## 🎯 优化内容

将付款申请页面的日期显示格式统一为 `2025/12/11` 格式（中国时区）。

---

## 🔧 修改内容

### 1. 新增日期格式化函数

```typescript
const formatDate = (dateString: string | null | undefined): string => {
  if (!dateString) return '-';
  return format(new Date(dateString), 'yyyy/MM/dd');
};
```

**特点**：
- ✅ 使用斜杠分隔（/）
- ✅ 四位年份
- ✅ 统一格式：`2025/12/11`
- ✅ 空值处理：显示"-"

---

### 2. 更新表格日期列

**修改前**：
```typescript
<TableCell>{r.loading_date}</TableCell>
// 显示：2025-10-25T00:00:00+00:00
```

**修改后**：
```typescript
<TableCell>{formatDate(r.loading_date)}</TableCell>
// 显示：2025/10/25
```

---

### 3. 更新详情对话框日期

**修改前**：
```typescript
<p>{viewingRecord.loading_date}</p>
// 显示：2025-10-25T00:00:00+00:00
```

**修改后**：
```typescript
<p>{formatDate(viewingRecord.loading_date)}</p>
// 显示：2025/10/25
```

---

### 4. 更新预览对话框日期

**修改前**：
```typescript
<p>{new Date(record.loading_date).toLocaleDateString('zh-CN')}</p>
// 显示：2025/10/25（但格式不稳定）
```

**修改后**：
```typescript
<p>{formatDate(record.loading_date)}</p>
// 显示：2025/10/25（格式稳定）
```

---

## 📊 格式对比

| 位置 | 修改前 | 修改后 |
|------|--------|--------|
| 列表表格 | 2025-10-25T00:00:00 | 2025/10/25 ✅ |
| 详情对话框 | 2025-10-25T00:00:00 | 2025/10/25 ✅ |
| 预览对话框 | 2025/10/25 | 2025/10/25 ✅ |

---

## ✅ 优势

1. **统一格式** - 所有位置使用相同格式
2. **简洁易读** - 斜杠分隔更符合中国习惯
3. **稳定性** - 不依赖浏览器locale设置
4. **易维护** - 集中在一个formatDate函数

---

## 🧪 测试

- [ ] 表格中的日期显示为 yyyy/MM/dd 格式
- [ ] 详情对话框中的日期显示正确
- [ ] 预览对话框中的日期显示正确
- [ ] 空值日期显示为 "-"

---

**修改文件**：`src/pages/PaymentRequest.tsx`  
**修改位置**：Line 243（新增函数）, Line 1693, Line 1777, Line 2122  
**修改时间**：2025-01-31  
**文件归档**：docs/misc/（遵循文档规范）✅

