# ç»„ä»¶é‡æ„è§„èŒƒ

## ğŸ“‹ é‡æ„æ—¶å¿…é¡»éµå¾ªçš„è§„èŒƒ

### 1. å…¬å…±åŒ–åŸåˆ™

#### âœ… å¿…é¡»ç§»åŠ¨åˆ°å…¬å…±ç›®å½•çš„

**src/utils/** - é€šç”¨å·¥å…·å‡½æ•°
- æ ¼å¼åŒ–å‡½æ•°ï¼ˆformatCurrencyã€formatDateç­‰ï¼‰
- æ•°æ®å¤„ç†å·¥å…·
- éªŒè¯å‡½æ•°
- **å‘½å**ï¼šå¦‚æœ‰å†²çªï¼Œæ·»åŠ ä¸šåŠ¡å‰ç¼€ï¼ˆå¦‚`invoicePaymentFormatters.ts`ï¼‰

**src/types/** - ç±»å‹å®šä¹‰
- æ¥å£å®šä¹‰
- ç±»å‹åˆ«å
- **å‘½å**ï¼šä½¿ç”¨é¡µé¢/æ¨¡å—åï¼ˆå¦‚`invoiceRequest.ts`ã€`businessEntry.ts`ï¼‰

**src/hooks/** - é€šç”¨è‡ªå®šä¹‰Hooks
- é˜²æŠ–ã€èŠ‚æµç­‰é€šç”¨Hook
- å¯è·¨é¡µé¢å¤ç”¨çš„çŠ¶æ€ç®¡ç†
- **å‘½å**ï¼šä½¿ç”¨é©¼å³°å‘½åï¼ˆå¦‚`useDebounce.ts`ï¼Œè€Œé`use-debounce.ts`ï¼‰

**src/components/common/** - å¯å¤ç”¨UIç»„ä»¶
- åˆè®¡è¡Œç»„ä»¶
- æ‰¹é‡è¾“å…¥å¯¹è¯æ¡†
- çŠ¶æ€å¾½ç« 
- **å‘½å**ï¼šä¿æŒåŸåï¼ˆå¦‚æ— å†²çªï¼‰
- **æ›´æ–°å¯¼å‡º**ï¼šå¿…é¡»æ·»åŠ åˆ°`common/index.ts`

---

#### âŒ ä¿ç•™åœ¨é¡µé¢ç›®å½•çš„

**pages/Xxx/hooks/** - é¡µé¢ä¸“ç”¨ä¸šåŠ¡é€»è¾‘
- æ•°æ®è·å–hooksï¼ˆuseXxxDataï¼‰
- ä¸šåŠ¡æ“ä½œhooksï¼ˆuseXxxActionsï¼‰
- é¡µé¢çŠ¶æ€ç®¡ç†hooks
- RPCè°ƒç”¨å°è£…

**pages/Xxx/components/** - é¡µé¢ä¸“ç”¨ç»„ä»¶
- å¤æ‚è¡¨æ ¼ç»„ä»¶
- é¡µé¢ç‰¹å®šå¯¹è¯æ¡†
- ç‰¹å®šä¸šåŠ¡ç»„ä»¶

---

### 2. å‘½åè§„èŒƒ

#### è‡ªåŠ¨é‡å‘½åç­–ç•¥ï¼ˆé¿å…å†²çªï¼‰

| ç±»å‹ | å†²çªæ£€æµ‹ | é‡å‘½åç­–ç•¥ | ç¤ºä¾‹ |
|------|---------|-----------|------|
| å·¥å…·å‡½æ•° | formatters.tså·²å­˜åœ¨ | æ·»åŠ ä¸šåŠ¡å‰ç¼€ | `invoicePaymentFormatters.ts` |
| ç±»å‹æ–‡ä»¶ | index.tså·²å­˜åœ¨ | ä½¿ç”¨é¡µé¢/æ¨¡å—å | `invoiceRequest.ts` |
| Hooks | use-xxx.tså·²å­˜åœ¨ | è§„èŒƒåŒ–é©¼å³°å‘½å | `useDebounce.ts` |
| ç»„ä»¶ | æ£€æŸ¥æ˜¯å¦å­˜åœ¨ | æ·»åŠ ä¸šåŠ¡å‰ç¼€ | `InvoiceXxxComponent.tsx` |

**åŸåˆ™**ï¼šä¸¥ç¦è¦†ç›–å·²æœ‰æ–‡ä»¶ï¼Œå¿…é¡»è‡ªåŠ¨é‡å‘½åï¼

---

### 3. å¯¼å…¥è·¯å¾„è§„èŒƒ

#### ä½¿ç”¨@/è·¯å¾„åˆ«å

```typescript
// âœ… æ­£ç¡®
import { formatCurrency } from '@/utils/invoicePaymentFormatters';
import type { LogisticsRecord } from '@/types/invoiceRequest';
import { useDebounce } from '@/hooks/useDebounce';
import { BatchInputDialog } from '@/components/common';

// âŒ é”™è¯¯
import { formatCurrency } from '../../../utils/invoicePaymentFormatters';
import { LogisticsRecord } from './types';
```

---

### 4. é‡æ„æ£€æŸ¥æ¸…å•

é‡æ„ä»»ä½•é¡µé¢æ—¶å¿…é¡»æ£€æŸ¥ï¼š

- [ ] è¯†åˆ«å¯å…¬å…±åŒ–çš„å·¥å…·å‡½æ•°
- [ ] è¯†åˆ«å¯å…¬å…±åŒ–çš„ç±»å‹å®šä¹‰
- [ ] è¯†åˆ«å¯å…¬å…±åŒ–çš„Hooks
- [ ] è¯†åˆ«å¯å…¬å…±åŒ–çš„ç»„ä»¶
- [ ] æ£€æŸ¥å…¬å…±ç›®å½•æ˜¯å¦å­˜åœ¨åŒåæ–‡ä»¶
- [ ] è‡ªåŠ¨é‡å‘½åï¼ˆå¦‚æœ‰å†²çªï¼‰
- [ ] æ›´æ–°æ‰€æœ‰å¯¼å…¥è·¯å¾„ä¸º@/è·¯å¾„
- [ ] æ›´æ–°common/index.tså¯¼å‡ºï¼ˆå¦‚æœ‰æ–°ç»„ä»¶ï¼‰
- [ ] è¿è¡ŒLintæ£€æŸ¥
- [ ] ç¡®ä¿0ä¸ªé”™è¯¯

---

### 5. ç›®å½•ç»“æ„

#### é‡æ„åçš„æ ‡å‡†ç»“æ„

```
src/pages/XxxPage/
â”œâ”€â”€ index.tsx                    # ä¸»é¡µé¢ï¼ˆ200è¡Œä»¥å†…ï¼‰
â”œâ”€â”€ XxxPage.backup.tsx           # åŸæ–‡ä»¶å¤‡ä»½
â”œâ”€â”€ components/                  # é¡µé¢ä¸“ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ XxxTable.tsx
â”‚   â”œâ”€â”€ XxxDialog.tsx
â”‚   â””â”€â”€ XxxButton.tsx
â””â”€â”€ hooks/                       # é¡µé¢ä¸“ç”¨hooks
    â”œâ”€â”€ useXxxData.ts           # æ•°æ®è·å–
    â”œâ”€â”€ useXxxSelection.ts      # çŠ¶æ€ç®¡ç†
    â””â”€â”€ useXxxActions.ts        # ä¸šåŠ¡æ“ä½œ
```

**æ³¨æ„**ï¼šutils/å’Œtypes/å·²ç§»åˆ°å…¬å…±ç›®å½•ï¼

---

### 6. æ–‡ä»¶æ“ä½œè§„èŒƒ

#### ç§»åŠ¨ç­–ç•¥

**é€šç”¨èµ„æºï¼ˆç§»åŠ¨ï¼‰**ï¼š
```bash
# å·¥å…·å‡½æ•°
pages/Xxx/utils/formatters.ts â†’ utils/xxxFormatters.ts

# ç±»å‹å®šä¹‰
pages/Xxx/types/index.ts â†’ types/xxxPage.ts

# é€šç”¨ç»„ä»¶
pages/Xxx/components/Summary.tsx â†’ components/common/XxxSummary.tsx
```

**ä¸“ç”¨èµ„æºï¼ˆä¿ç•™ï¼‰**ï¼š
```bash
# ä¿ç•™åœ¨åŸä½ç½®
pages/Xxx/hooks/useXxxData.ts
pages/Xxx/components/XxxTable.tsx
```

**é‡å¤èµ„æºï¼ˆå¤åˆ¶ååˆ é™¤åŸæ–‡ä»¶ï¼‰**ï¼š
```bash
# å¦‚use-debounceè¢«å¤šå¤„ä½¿ç”¨
pages/Xxx/hooks/use-debounce.ts â†’ hooks/useDebounce.tsï¼ˆå¤åˆ¶ï¼‰
pages/Xxx/hooks/use-debounce.tsï¼ˆåˆ é™¤åŸæ–‡ä»¶ï¼‰
```

---

### 7. æ›´æ–°å¯¼å‡º

#### common/index.tså¿…é¡»æ›´æ–°

æ¯æ¬¡æ·»åŠ å…¬å…±ç»„ä»¶åï¼š

```typescript
// src/components/common/index.ts
export { ExistingComponent } from './ExistingComponent';
export { NewComponent } from './NewComponent';  // âœ… æ–°å¢è¿™è¡Œ
```

---

### 8. è´¨é‡ä¿è¯

#### é‡æ„åå¿…é¡»ç¡®ä¿

- âœ… 0ä¸ªLinté”™è¯¯
- âœ… æ‰€æœ‰å¯¼å…¥è·¯å¾„æ­£ç¡®
- âœ… TypeScriptç±»å‹å®Œæ•´
- âœ… æ— æ–‡ä»¶è¦†ç›–
- âœ… åŸæ–‡ä»¶å·²å¤‡ä»½
- âœ… åŠŸèƒ½ä¿æŒä¸€è‡´

---

## ğŸ“ ç¤ºä¾‹

### é‡æ„InvoiceAudité¡µé¢ç¤ºä¾‹

**æ­¥éª¤1**ï¼šåˆ†æä»£ç 
- å‘ç°formatDateå‡½æ•° â†’ å¯å…¬å…±åŒ–
- å‘ç°InvoiceRequestç±»å‹ â†’ å¯å…¬å…±åŒ–
- å‘ç°useInvoiceAuditData hook â†’ é¡µé¢ä¸“ç”¨ï¼Œä¸å…¬å…±åŒ–

**æ­¥éª¤2**ï¼šæ£€æŸ¥å†²çª
- utils/formatters.tså·²å­˜åœ¨ â†’ é‡å‘½åä¸º`invoiceAuditFormatters.ts`
- types/index.tså·²å­˜åœ¨ â†’ é‡å‘½åä¸º`invoiceAudit.ts`

**æ­¥éª¤3**ï¼šç§»åŠ¨æ–‡ä»¶
```bash
pages/InvoiceAudit/utils/formatters.ts â†’ utils/invoiceAuditFormatters.ts
pages/InvoiceAudit/types/index.ts â†’ types/invoiceAudit.ts
pages/InvoiceAudit/components/SummaryRow.tsx â†’ components/common/InvoiceAuditSummaryRow.tsx
```

**æ­¥éª¤4**ï¼šæ›´æ–°å¯¼å…¥
```typescript
// æ›´æ–°æ‰€æœ‰ç»„ä»¶çš„å¯¼å…¥è·¯å¾„ä¸º@/
import { formatDate } from '@/utils/invoiceAuditFormatters';
import type { InvoiceRequest } from '@/types/invoiceAudit';
```

**æ­¥éª¤5**ï¼šæ›´æ–°å¯¼å‡º
```typescript
// components/common/index.ts
export { InvoiceAuditSummaryRow } from './InvoiceAuditSummaryRow';
```

**æ­¥éª¤6**ï¼šéªŒè¯
```bash
# æ£€æŸ¥Lint
npm run lint

# ç¡®ä¿0ä¸ªé”™è¯¯
```

---

## âœ… éµå¾ªæ­¤è§„èŒƒçš„å¥½å¤„

1. **ä»£ç å¤ç”¨** - å‡å°‘é‡å¤ä»£ç 
2. **æ˜“äºç»´æŠ¤** - æ¸…æ™°çš„ç›®å½•ç»“æ„
3. **é¿å…å†²çª** - è‡ªåŠ¨é‡å‘½åæœºåˆ¶
4. **ç±»å‹å®‰å…¨** - ç»Ÿä¸€çš„ç±»å‹å®šä¹‰
5. **å›¢é˜Ÿåä½œ** - è§„èŒƒåŒ–çš„ä»£ç ç»„ç»‡

---

**æ­¤è§„èŒƒå·²ç”Ÿæ•ˆï¼Œæ‰€æœ‰æœªæ¥çš„é‡æ„éƒ½å°†éµå¾ªï¼** âœ…

