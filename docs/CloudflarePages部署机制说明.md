# Cloudflare Pages éƒ¨ç½²æœºåˆ¶è¯´æ˜

## ğŸ“‹ é‡è¦è¯´æ˜ï¼šassets ç›®å½•ä¼šè¢«è‡ªåŠ¨éƒ¨ç½²

### âœ… å…³é”®ç‚¹

**Cloudflare Pages éƒ¨ç½² `dist` ç›®å½•æ—¶ï¼Œä¼šéƒ¨ç½²æ•´ä¸ªç›®å½•æ ‘ï¼ŒåŒ…æ‹¬æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ã€‚**

è¿™æ„å‘³ç€ï¼š
- âœ… å¦‚æœæ„å»ºè¾“å‡ºç›®å½•æ˜¯ `dist`
- âœ… é‚£ä¹ˆ `dist/assets/` ç›®å½•**ä¼šè¢«è‡ªåŠ¨åŒ…å«**åœ¨éƒ¨ç½²ä¸­
- âœ… ä¸éœ€è¦å•ç‹¬é…ç½® assets ç›®å½•

## ğŸ” æ„å»ºè¾“å‡ºç»“æ„

### Vite é»˜è®¤æ„å»ºç»“æ„

```
dist/
â”œâ”€â”€ index.html          # ä¸» HTML æ–‡ä»¶
â””â”€â”€ assets/            # èµ„æºæ–‡ä»¶ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
    â”œâ”€â”€ index-xxx.js    # ä¸»å…¥å£æ–‡ä»¶
    â”œâ”€â”€ DriverManagement-xxx.js
    â”œâ”€â”€ index-xxx.css
    â””â”€â”€ ...
```

### Cloudflare Pages éƒ¨ç½²ç»“æ„

å½“ Cloudflare Pages éƒ¨ç½² `dist` ç›®å½•æ—¶ï¼Œå®é™…éƒ¨ç½²çš„ç»“æ„æ˜¯ï¼š

```
/ (ç½‘ç«™æ ¹ç›®å½•)
â”œâ”€â”€ index.html          # æ¥è‡ª dist/index.html
â””â”€â”€ assets/            # æ¥è‡ª dist/assets/ï¼ˆè‡ªåŠ¨åŒ…å«ï¼‰
    â”œâ”€â”€ index-xxx.js
    â”œâ”€â”€ DriverManagement-xxx.js
    â””â”€â”€ ...
```

## âœ… éªŒè¯ assets ç›®å½•æ˜¯å¦è¢«éƒ¨ç½²

### æ–¹æ³• 1: æŸ¥çœ‹æ„å»ºæ—¥å¿—

åœ¨ Cloudflare Pages æ„å»ºæ—¥å¿—ä¸­ï¼ŒéªŒè¯è„šæœ¬ä¼šæ˜¾ç¤ºï¼š

```
ğŸ“ assets ç›®å½•åŒ…å« 25 ä¸ªæ–‡ä»¶:
   - index-xxx.js (245.32 KB)
   - DriverManagement-xxx.js (156.78 KB)
   ...
```

å¦‚æœçœ‹åˆ°è¿™ä¸ªè¾“å‡ºï¼Œè¯´æ˜ assets ç›®å½•å·²æ­£ç¡®æ„å»ºã€‚

### æ–¹æ³• 2: æ£€æŸ¥éƒ¨ç½²åçš„æ–‡ä»¶

éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®ï¼š
- `https://ä½ çš„åŸŸå.com/assets/index-xxx.js`
- `https://ä½ çš„åŸŸå.com/assets/DriverManagement-xxx.js`

å¦‚æœè¿™äº›æ–‡ä»¶å¯ä»¥è®¿é—®ï¼Œè¯´æ˜ assets ç›®å½•å·²è¢«æ­£ç¡®éƒ¨ç½²ã€‚

### æ–¹æ³• 3: ä½¿ç”¨éªŒè¯è„šæœ¬

éªŒè¯è„šæœ¬ä¼šæ£€æŸ¥ï¼š
- âœ… `dist/assets/` ç›®å½•æ˜¯å¦å­˜åœ¨
- âœ… `dist/assets/` ä¸­æ˜¯å¦æœ‰ JavaScript æ–‡ä»¶
- âœ… æ‰€æœ‰å¼•ç”¨çš„æ–‡ä»¶æ˜¯å¦éƒ½å­˜åœ¨

## ğŸ”§ Cloudflare Pages é…ç½®

### æ­£ç¡®çš„é…ç½®

åœ¨ Cloudflare Pages é¡¹ç›®è®¾ç½®ä¸­ï¼š

- **Build command**: `npm run build`
- **Build output directory**: `dist` âœ…ï¼ˆä¸æ˜¯ `dist/assets`ï¼‰
- **Root directory**: `/`ï¼ˆç•™ç©ºæˆ–å¡« `/`ï¼‰

### âŒ é”™è¯¯çš„é…ç½®

- âŒ **Build output directory**: `dist/assets`ï¼ˆé”™è¯¯ï¼ï¼‰
  - è¿™ä¼šå¯¼è‡´åªéƒ¨ç½² assets ç›®å½•ï¼Œè€Œä¸åŒ…å« index.html

### âœ… ä¸ºä»€ä¹ˆ `dist` å°±å¤Ÿäº†ï¼Ÿ

å› ä¸ºï¼š
1. Vite æ„å»ºæ—¶ï¼Œä¼šå°†æ‰€æœ‰èµ„æºæ”¾åœ¨ `dist/assets/` ä¸­
2. Cloudflare Pages éƒ¨ç½² `dist` ç›®å½•æ—¶ï¼Œä¼šé€’å½’å¤åˆ¶æ‰€æœ‰å†…å®¹
3. åŒ…æ‹¬ `dist/assets/` åŠå…¶æ‰€æœ‰å­æ–‡ä»¶å’Œå­ç›®å½•

## ğŸ“ Vite é…ç½®ç¡®è®¤

åœ¨ `vite.config.ts` ä¸­ï¼Œå·²æ˜ç¡®é…ç½®ï¼š

```typescript
build: {
  assetsDir: 'assets',  // èµ„æºæ–‡ä»¶è¾“å‡ºåˆ° dist/assets/
  outDir: 'dist',        // æ„å»ºè¾“å‡ºç›®å½•
  // ...
}
```

è¿™ç¡®ä¿äº†ï¼š
- âœ… æ‰€æœ‰èµ„æºæ–‡ä»¶éƒ½åœ¨ `dist/assets/` ä¸­
- âœ… Cloudflare Pages éƒ¨ç½² `dist` æ—¶ä¼šåŒ…å« `dist/assets/`

## ğŸš¨ å¸¸è§è¯¯è§£

### è¯¯è§£ 1: "éœ€è¦å•ç‹¬é…ç½® assets ç›®å½•"

**äº‹å®**: âŒ ä¸éœ€è¦
- Cloudflare Pages éƒ¨ç½²æ•´ä¸ª `dist` ç›®å½•
- `dist/assets/` ä¼šè‡ªåŠ¨åŒ…å«

### è¯¯è§£ 2: "Build output directory åº”è¯¥å¡« dist/assets"

**äº‹å®**: âŒ é”™è¯¯
- åº”è¯¥å¡« `dist`
- å¦‚æœå¡« `dist/assets`ï¼Œä¼šä¸¢å¤± `index.html`

### è¯¯è§£ 3: "éœ€è¦é¢å¤–çš„éƒ¨ç½²è„šæœ¬å¤åˆ¶ assets"

**äº‹å®**: âŒ ä¸éœ€è¦
- Cloudflare Pages ä¼šè‡ªåŠ¨å¤„ç†
- éªŒè¯è„šæœ¬ä¼šç¡®ä¿æ–‡ä»¶å­˜åœ¨

## âœ… éªŒè¯æ¸…å•

éƒ¨ç½²å‰ç¡®è®¤ï¼š

- [ ] `vite.config.ts` ä¸­ `assetsDir: 'assets'` å·²é…ç½®
- [ ] `vite.config.ts` ä¸­ `outDir: 'dist'` å·²é…ç½®
- [ ] Cloudflare Pages çš„ **Build output directory** è®¾ç½®ä¸º `dist`
- [ ] æ„å»ºæ—¥å¿—ä¸­æ˜¾ç¤º "âœ… assets ç›®å½•å­˜åœ¨"
- [ ] æ„å»ºæ—¥å¿—ä¸­æ˜¾ç¤º assets ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šassets ç›®å½•ä¸­çš„æ–‡ä»¶ 404

**å¯èƒ½åŸå› **ï¼š
1. æ„å»ºæ—¶ assets ç›®å½•æœªç”Ÿæˆ
2. éƒ¨ç½²æ—¶æ–‡ä»¶æœªæ­£ç¡®å¤åˆ¶
3. è·¯å¾„é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æ„å»ºæ—¥å¿—ï¼Œç¡®è®¤ assets ç›®å½•æ˜¯å¦å­˜åœ¨
2. è¿è¡ŒéªŒè¯è„šæœ¬ï¼š`npm run verify-build`
3. æ£€æŸ¥ Cloudflare Pages çš„æ„å»ºè¾“å‡ºç›®å½•é…ç½®

### é—®é¢˜ï¼šéªŒè¯è„šæœ¬æ˜¾ç¤º assets ç›®å½•ä¸å­˜åœ¨

**å¯èƒ½åŸå› **ï¼š
1. Vite æ„å»ºå¤±è´¥
2. `assetsDir` é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `vite.config.ts` ä¸­çš„ `assetsDir` é…ç½®
2. æœ¬åœ°è¿è¡Œ `npm run build` æ£€æŸ¥æ„å»ºè¾“å‡º
3. æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Cloudflareéƒ¨ç½²éªŒè¯è¯´æ˜](./Cloudflareéƒ¨ç½²éªŒè¯è¯´æ˜.md)
- [æ„å»ºéƒ¨ç½²é—®é¢˜æ’æŸ¥æŒ‡å—](./æ„å»ºéƒ¨ç½²é—®é¢˜æ’æŸ¥æŒ‡å—.md)

